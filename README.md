# 浅析 URL
## URL的定义
>统一资源定位符（URL，英语Uniform Resource Locator的缩写），它的英文简称叫做URL。也被称为网页地址，是因特网上标准的资源的地址。它最初是由蒂姆·伯纳斯－李发明用来作为万维网的地址的e799bee5baa6e78988e69d8331333431356132，现在它已经被万维网联盟编制为因特网标准RFC1738了。

## URL 包含以下信息：
> 用于访问资源的协议
> 服务器的位置（无论是通过 IP 地址还是域名）
> 服务器上的端口号（可选）
> 资源在服务器目录结构中的位置
> 片段标识符（可选）

## 一个完整的URL 解析过程
* 1、用户输入网址，浏览器发起DNS查询请求
> 用户访问网页，DNS服务器（域名解析系统）会根据用户提供的域名查找对应的IP地址
> 域名解析服务器是基于UDP实协议实现的一个应用程序，通常通过监听53端口来获取客户端的域名解析请求。DNS查找过过程如下：
> 浏览器缓存-浏览器会缓存DNS记录一段时间。有趣的是操作系统没有告诉浏览器存储DNS记录的时间，这样不同浏览器会记录他们各自固定的一个时间（2分钟到30分钟不等）
> 系统缓存-如果在浏览器缓存中没有找到需要的记录，浏览器会做一个系统调用（gethostbyname）。这样便可获得系统缓存中的记录。
> 路由器缓存-接着前面的查询请求发向路由器，他一般会有自己的DNS缓存ISP DNs缓存-接下来要check的就是ISP缓存DNS的服务器。在这一般都能找到相应的缓存记录。
> 递归搜索-你的ISP的DNS服务器从域名服务器开始进行递归搜索，从com顶级域名服务器到Facebook的域名服务器。
> 一般DNS服务器的缓存中会有.com域名服务器中的域名，所以到顶级服务器的匹配过程不是那么必要了。

* 2、建立TCP连接
> 浏览器通过DNS获取到web服务器真的IP地址后，便向服务器发起TCP连接请求，通过tcp的三次握手建立好连接后，浏览器便可以将http请求数据通过发送给服务器了。

* 3、浏览器向web服务器发送一个http请求
> http请求时基于tcp协议之上的应用层协议--超文本传输协议。一个http事务由一条（从客户端发往服务器的）请求命令和一个（从服务器发回客户端的）响应结果组成。

* 4、发送响应数据给客户端
> web服务器通过监听80端口，来获取客户端的http请求。与客户端建立好TCP连接后，web服务器开始接受客户端发来的数据，并通过http解码，从接收到的网络数据中解析出请求的url信息以前其他诸如Accept-Encoding、Accept-Language等信息。Web服务器根据http请求头的信息，得到响应数据返回给客户端。

* 5、浏览器渲染
>+ html文档解析（DOM Tree）
>+ 浏览器发送获取嵌入在html中的对象
>+ css解析
>+ js解析
